## Комментарии и ответы на вопросы

Исходя из условий задачи, для хранения исторических данных я создал две модели - одна для заемщика (модель `Borrower`), вторая для платежа (модель `Payment`).
Отношения: один заемщик может иметь много платежей, платеж обязательно принадлежит какому-либо одному заемщику:
`borrower has_many payments, payment belongs_to borrower`. В этом случае `foreign key` находится в таблице `Payments`.

В таблице "заемщики"" (`borowers`) есть следующие поля (помимо стандартных `id` и `timestamps`):
- name (имя заемщика)
- loan (сумма займа)
- period (время, на которое берется займ)
- annual\_rate (ставка годовых)
- overdue\_rate (ставка годовых при просрочке)

В таблице "платежи" (`payments`) есть следующие поля (помимо стандартных `id` и `timestamps`):
- month (месяц)
- borrower_id (id заемщика, foreign key)
- payment (платеж)
 
Модели и таблицы для инвестора не создавал, т.к. инвестор не предполался, как сохраняемая сущность.

Логику расчета вынес в `service objects`, это освободило и модели и контроллеры от бизнес-логики. В моделях только валидации на текущий момент.
Написал тест для основного файла расчета.
В написании логики для расчетов исходил из того, что исторических данных платежи могут быть только трех видов:
- нормальные (с обычной ставкой, выплачаваются в течение всего срока)
- с просрочкой (с повышенной штрафной ставкой, выплачаваются в течение всего срока)
- досрочное погашение (с обычной ставкой, выплачиваются раньше срока)
И в любом случае основной долг погашается.

## Что можно доделать/улучшить, на мой взгляд (при наличии дополнительного времени на задание):
- Написать дополнительные тесты:
  - на модели - проверить создание и валидации
  - на контроллеры - проверить стандартные CRUD-методы
  - создать factories для моделей
- При введении исторических данных - платежей - ограничить выбор суммы платежа только вышеперечисленными видами( нормальные, с просрочкой, и досрочные) 
с проверкой(валидацией), погашен ли основной долг.
- Вынести на главную страницу калькулятора:
  - общее количество заемщиков в базе
  - общее количество платежей
  - текущая прибыльность
  - общая сумма займов

